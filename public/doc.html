<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
            
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
            color: #333;
            padding: 20px;
        }

        h1 {
            font-family: monospace;
            font-weight: 900;
            text-align: center;
            color: #000;
            font-size: 36px;
            margin-bottom: 20px;
        }

        h2 {
            text-align: center;
            font-family: monospace;
            color: #000;
            font-size: 24px;
            margin-top: 30px;
            margin-bottom: 10px;
        }

        h3 {
            font-weight: 600;

            font-family: monospace;
            border-bottom: 1px solid black;
            color: black;
            font-size: 20px;
            margin-top: 20px;
            margin-bottom: 5px;
        
        }

        table {
            font-family: monospace;
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            margin-bottom: 20px;
        }

        th,
        td {
            font-family: monospace;
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            font-family: monospace;
            background-color: #f2f2f2;
            color: #333;
        }

        pre {
            font-family: monospace;
            background-color: #2b2b2b;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            margin-top: 10px;
            margin-bottom: 20px;
        }

        code {
            font-family: monospace;

        }

        p {
            font-family: monospace;
            margin-top: 10px;
        }


        comments {
            color: rgb(165, 165, 165);
        }

        let {
            color: #ee70ff;
            ;
        }

        method {
            color: rgb(95, 183, 255);
        }

        string {
            color: rgb(198, 255, 113);
        }

        proberty {
            color: rgb(255, 103, 103);
        }


     /* Change background color of the active button */
#v-pills-tab .nav-link {
    border: 1px solid black;
    background-color: #f8f9fa; /* Default background color */
    color: #000; /* Default text color */
}

#v-pills-tab .nav-link.active {
    color: white; /* Text color for active tabs */
}

#v-pills-ok-tab.active {
    background-color: #28a745; /* Green for 200 OK */
}

#v-pills-forbidden-tab.active {
    background-color: #fd7e14; /* Orange for 403 Forbidden */
}

#v-pills-notfound-tab.active {
    background-color: #dc3545; /* Red for 404 Page not found */
}

/* Optional: Add hover effects */
#v-pills-tab .nav-link:hover {
    color: white;
}

#v-pills-ok-tab:hover {
    background-color: #218838; /* Darker green for hover */
}

#v-pills-forbidden-tab:hover {
    background-color: #e8590c; /* Darker orange for hover */
}

#v-pills-notfound-tab:hover {
    background-color: #c82333; /* Darker red for hover */
}

@media (max-width: 480px) {
    .description-column{
        display: none;
    }
    
}

    </style>

    <script>async function fetchGlobalMetrics() {
        try {
            const response = await fetch('http://localhost:3000/api/cryptocurrency/metajson');
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            const data = await response.json();
            let cryptoDataDiv = document.getElementById('fetchDiv');
    
            let content = '';
            data.data.slice(0, 10).forEach(coin => {
                content += `
                    <tr>
                        <td>${coin.id}</td>
                        <td>${coin.name}</td>
                        <td>${coin.symbol}</td>
                    </tr>
                `;
            });
    
            cryptoDataDiv.innerHTML = content;
        } catch (error) {
            console.error('Error fetching crypto data:', error);
        }
    }
    
    fetchGlobalMetrics();</script>
</head>
<body>

    <h1>Welcome to the API Documentation</h1>

    <pre><code>1    <comments>// Welcome to the Simple Bitcoin Data API</comments>
2 
3    Explore <method>the.</method>(<string>'Bitcoin Data API'</string>) <let>=></let> and 
4    retrieve <proberty>information</proberty> about various cryptocurrencies.
</code></pre> 
    

    <h3>Endpoints</h3>
    <table>
        <tr>
            <th>HTTP Method</th>
            <th>Endpoint</th>
            <th class="description-column">Description</th>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/cryptocurrency/listings</td>
            <td class="description-column">View every Coin we can provide at the moment</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/cryptocurrency/listings/{symbol}</td>
            <td class="description-column">Retrieves data for a specific cryptocurrency based on the symbol you can find in the Coin List.</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/cryptocurrency/tags</td>
            <td class="description-column">Retrieves all tags exist. You can request Coins based on this Tags.</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/cryptocurrency/tags/{tagName}</td>
            <td class="description-column">Retrieves specific coins based on the tags you can find in the Tag List.</td>
        </tr>
    </table>

    <h3>Coin List</h3>
    <table>
        <thead>
        <tr>
            <th>id</th>
            <th>Name</th>
            <th>Symbol</th>
        </tr>
    </thead>
        <tbody id="fetchDiv">
            <td></td>
            <td></td>
            <td></td>
        </tbody>
    </table>
    
    <h3>Example</h3>
    <p>Retrieve data for Bitcoin using the following example code:</p>
    <pre><code>1 <comments>   //Define the URL and setup the response structure</comments>
2    <method>fetch</method>(<string>'http://localhost:3000/api/cryptocurrency/listings/btc'</string>)
3       <method>.then</method>(response <let>=></let> response.<method>json</method><let>()</let>)
4       <method>.then</method>(data <let>=> {</let>
5
6       <comments>//Display the JSON DATA here</comments>
7        console<method>.log</method>(data.<proberty>name</proberty>);
8        console<method>.log</method>(data.<proberty>symbol</proberty>);
9      })
10   <comments>//Catch for errors</comments>
11   <method>.catch</method>(error <let>=> {</let> console.<method>error</method>(<string>'Error fetching data:'</string>, error);
12     });
</code></pre>

<hr>

    <h3>Response</h3>
    <p>
        The API returns JSON data containing information about the requested cryptocurrency, including name, symbol,
        logo, description and website. Status Code is provided too!
    </p>
    <hr>
    <h3>Response JSON Code</h3>
    <p></p>
    <div class="">
        <div class="nav nav-pills mb-3" id="v-pills-tab" role="tablist">
          <button class="nav-link active" id="v-pills-ok-tab" data-bs-toggle="pill" data-bs-target="#v-pills-ok" type="button" role="tab" aria-controls="v-pills-ok" aria-selected="true">200 OK</button>
          <button class="nav-link" id="v-pills-forbidden-tab" data-bs-toggle="pill" data-bs-target="#v-pills-forbidden" type="button" role="tab" aria-controls="v-pills-forbidden" aria-selected="false">403 Forbidden</button>
          <button class="nav-link" id="v-pills-notfound-tab" data-bs-toggle="pill" data-bs-target="#v-pills-notfound" type="button" role="tab" aria-controls="v-pills-notfound" aria-selected="false">404 Page not found</button>
        </div>
        <div class="tab-content" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="v-pills-ok" role="tabpanel" aria-labelledby="v-pills-ok-tab" tabindex="0">
            <pre><code>1<comments>  //http://localhost:3000/api/cryptocurrency/listings/btc</comments>
2     {  
3       <proberty>"id"</proberty> : <string>1</string>,
4       <proberty>"name"</proberty> : <string>"Bitcoin"</string>,
5       <proberty>"symbol"</proberty> : <string>"BTC"</string>,
6       <proberty>"logo"</proberty> : <string>"https://s2.coinmarketcap.com/static/img/coins/..."</string>,
7       <proberty>"description"</proberty> : <string>"Bitcoin ist eine dezentrale digitale WÃ¤hrun..."</string>,
8       <proberty>"website"</proberty> : "<string>https://www.bitcoin.org"</string>, 
9            <proberty>tags</proberty> : [
10                <string>"mineable"</string>,
11                <string>"pow"</string>,
12                <string>"sha-256""</string>,
13                <string>"store-of-value"</string>
14                ],
15                <proberty>"status"</proberty>: {
15                     <proberty>"status_code"</proberty>:<string> 200</string>,
16                     <proberty>"status_msg"</proberty>:<string> OK</string>
17                     }
</code></pre>          </div>
          <div class="tab-pane fade" id="v-pills-forbidden" role="tabpanel" aria-labelledby="v-pills-forbidden-tab" tabindex="0">
<pre><code>1<comments>  //http://localhost:3000/NOACCES</comments>
2  {
3    <proberty>"status_code"</proberty> : <string>"403"</string>,
4    <proberty>"status_msg"</proberty> : <string>"Forbidden"</string>,
5    <proberty>"time_stamp"</proberty> : <string>"1716584806572"</string>,
6    <proberty>"request"</proberty> : <string>"User does not have access to this resource"</string>,
7  }</code></pre>
          </div>
          <div class="tab-pane fade" id="v-pills-notfound" role="tabpanel" aria-labelledby="v-pills-notfound-tab" tabindex="0">
            <pre><code>1<comments>  //http://localhost:3000/api/PATHNOTEXIST</comments>
2  {
3    <proberty>"status_code"</proberty> : <string>"404"</string>,
4    <proberty>"status_msg"</proberty> : <string>"path_not_found"</string>,
5    <proberty>"time_stamp"</proberty> : <string>"1716584806572"</string>,
6    <proberty>"request"</proberty> : <string>"Error occurred with path: {path}"</string>,
7  }</code></pre>
          </div>
        </div>
    </div>
<hr>
    <h3>Error Handling</h3>
    <p>
        If the requested cryptocurrency is not found, the API returns a 404 error.
    </p>
<hr>
    <h3>Rate Limiting</h3>
    <p>
        This API currently does not implement rate limiting.
    </p>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
